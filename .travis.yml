language: csharp
branches:
  except:
  - /^[0-9]/
env:
  global:
    - DOTNET_SKIP_FIRST_TIME_EXPERIENCE: true
    - DOTNET_CLI_TELEMETRY_OPTOUT: 1
matrix:
  include:
    - os: linux
      dotnet: 2.0.0
    - os: osx 
      osx_image: xcode9 # OSX 10.12
      before_install:
        - brew update
        - curl https://dot.net/v1/dotnet-install.sh -o dotnet-install.sh
        - chmod +x dotnet-install.sh
        - ./dotnet-install.sh --channel 2.0
        - export PATH=$PATH:~/.dotnet/
script:
  - dotnet restore
  - dotnet build --configuration Release
  - dotnet test test/Winton.AspNetCore.Seo.Tests/ --no-build --configuration Release --framework netcoreapp2.0
  - dotnet test test/Winton.AspNetCore.Seo.IntegrationTests/ --no-build --configuration Release
notifications:
  on_success: always
  on_failure: always
  on_start: always
